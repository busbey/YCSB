YCSB is a framework for benchmarking systems. By itself, it is not particularly useful; only when you add code to interface with a data serving system is it useful. The source tree currently contains code to interface with HBase and Cassandra, but it is straightforward to interface with other database systems - see [[Adding a Database]].

h3. 1. Obtain YCSB source

Download the latest version:

|_. Version |_. Tarball |_. Zipball |
| 0.1.1 | <A HREF="http://github.com/brianfrankcooper/YCSB/tarball/0.1.1">[.tar.gz]</A> | <A HREF="http://github.com/brianfrankcooper/YCSB/zipball/0.1.1">[.zip]</A> |

Or clone the git repository:

<PRE>
  git clone git://github.com/brianfrankcooper/YCSB.git
</PRE>

h3. 2. Build the basic package

YCSB requires Java 1.5 or newer to build.

<PRE>
  cd YCSB
  ant
</PRE>

h3. 3. Build HBase and Cassandra database layers

First, you must obtain the HBase and Cassandra clients.<P>
  * HBase: <A HREF="http://hadoop.apache.org/hbase/">http://hadoop.apache.org/hbase/</A> - YCSB has been built with version 0.20.3.
  * Cassandra: <A HREF="http://cassandra.apache.org/">http://cassandra.apache.org/</A> - YCSB has been built with version 0.6.

After downloading the client files, copy the jars into YCSB/src/com/yahoo/ycsb/db/cassandralib/ and hbaselib/. The db/ directory contains all code for interacting with external databases, and the cassandralib/ and hbaselib/ directories should contain jars for building the connector code (a subset of these jars may be sufficient to build the connector code; feel free to find the minimal set)  . For example:

<PRE>
  cd hbase-0.20.3/
  cp hbase-0.20.3.jar ~/YCSB/src/com/yahoo/ycsb/db/hbaselib/
  cd lib/
  cp *.jar ~/YCSB/src/com/yahoo/ycsb/db/hbaselib/
</PRE>

and 

<PRE> 
  cd apache-cassandra-0.6.1/lib/
  cp *.jar ~/YCSB/src/com/yahoo/ycsb/db/cassandralib/
</PRE>

Now, you can use the dbcompile-* targets to build each connector.

<PRE>
  cd ~/YCSB/
  ant
  ant dbcompile-hbase
  ant dbcompile-cassandra
</PRE>

At the end of this process, the ycsb.jar file in the build/ directory will contain all the classes needed to run YCSB, as well as the Cassandra and HBase connector classes.

Of course, if you don't want both HBase and Cassandra, you can just build one or the other. 

Systems may have additional requirements for running clients.  For example, HBase requires the client be able to contact Zookeeper.  See <A HREF="http://hadoop.apache.org/hbase/docs/r0.20.3/api/org/apache/hadoop/hbase/client/package-summary.html#package_description">HBase 0.20.3 Client Package Description</A> for HBase-specific instructions. Some details are listed in [[Using the HBase and Cassandra Libraries]].

<B>Note:</B> In the post 0.1.1 master branch, DB code and libraries have been moved up to YCSB/db. For example, hbase is now in YCSB/db/hbase. So when you copy the jars, to appropriate location is now YCSB/db/<databasename>/lib.

h3. 4. Now, run a workload

See [[Running a Workload]].