YCSB is a framework for benchmarking systems. By itself, it is not particularly useful; only when you add code to interface with a data serving system is it useful. The source tree currently contains code to interface with HBase, Cassandra, MongoDB and Voldemort, but it is straightforward to interface with other database systems - see [[Adding a Database]].

h3. 1. Obtain YCSB source

Download the latest version:

|_. Version |_. Tarball |_. Zipball |
| 0.1.3 | <A HREF="http://github.com/brianfrankcooper/YCSB/tarball/0.1.3">[.tar.gz]</A> | <A HREF="http://github.com/brianfrankcooper/YCSB/zipball/0.1.3">[.zip]</A> |

Or clone the git repository:

<PRE>
  git clone git://github.com/brianfrankcooper/YCSB.git
</PRE>

h3. 2. Build the basic package

YCSB requires Java 1.5 or newer to build.

<PRE>
  cd YCSB
  ant
</PRE>

h3. 3. Build database layers

First, you must obtain the clients for each system.<P>
  * HBase: <A HREF="http://hadoop.apache.org/hbase/">http://hadoop.apache.org/hbase/</A> - YCSB has been built with versions 0.20.3 - 0.20.6
  * Cassandra: <A HREF="http://cassandra.apache.org/">http://cassandra.apache.org/</A> - YCSB has been built with versions 0.5, 0.6 and 0.7.
  * MongoDB: <A HREF="http://www.mongodb.org/">http://www.mongodb.org/</A> - YCSB has been built with versions 1.4.2 - 2.2
  * Voldemort: <A HREF="http://project-voldemort.com/">http://project-voldemort.com/</A> - YCSB has been build with version 0.81

After downloading the client files, copy the jars into YCSB/db/&lt;databasename&gt;/lib. The db/ directory contains all code for interacting with external databases, and the lib/ directories for each database should contain jars for building the connector code (a subset of these jars may be sufficient to build the connector code; feel free to find the minimal set). For example:

<PRE>
  cd hbase-0.20.3/
  cp hbase-0.20.3.jar ~/YCSB/db/hbase/lib/
  cd lib/
  cp *.jar ~/YCSB/db/hbase/lib/
</PRE>

and 

<PRE> 
  cd apache-cassandra-0.6.1/lib/
  cp *.jar ~/YCSB/db/cassandra-0.6/lib/
</PRE>

and

<PRE>
  cd voldemort-0.81/
  cp dist/voldemort-*0.81.jar ~/YCSB/db/voldemort/lib/
  cp lib/*.jar ~/code/ycsb/YCSB/db/voldemort/lib/
</PRE>

and

<PRE>
  cd mongodb/
  cp mongo-2.2.jar ~/YCSB/db/mongodb/lib/
  cp slf4j-*.jar ~/YCSB/db/mongodb/lib/
</PRE>

Now, you can use the dbcompile-* targets to build each connector.

<PRE>
  cd ~/YCSB/
  ant
  ant dbcompile-hbase
  ant dbcompile-cassandra-0.6
  ant dbcompile-cassandra-0.7
  ant dbcompile-mongodb
  ant dbcompile-voldemort
</PRE>

At the end of this process, the ycsb.jar file in the build/ directory will contain all the classes needed to run YCSB, as well as the Cassandra,  HBase and MongoDB connector classes.

Of course, if you don't want all of these database bindings, you can just build one or a subset. 

Systems may have additional requirements for running clients.  For example, HBase requires the client be able to contact Zookeeper.  See <A HREF="http://hadoop.apache.org/hbase/docs/r0.20.3/api/org/apache/hadoop/hbase/client/package-summary.html#package_description">HBase 0.20.3 Client Package Description</A> for HBase-specific instructions. Some details are listed in [[Using the Database Libraries]].

h3. 4. Now, run a workload

See [[Running a Workload]].